(ruleset expand)

(constructor VectorHot (Expr Expr) Expr)
(rewrite (VectorHot n i) (Build n (Lam (Cond (EQ (Shift 0 1 i) (Var 0)) (Const 1.) (Const 0.)))) :ruleset expand)

(constructor VectorZip (Expr Expr) Expr)
(rewrite (VectorZip v w) (Build (Length v) (Lam (Pair (Get (Shift 0 1 v) (Var 0)) (Get (Shift 0 1 w) (Var 0))))) :ruleset expand)
