(ruleset expand)

(constructor VectorHot (Expr Expr) Expr)
(rewrite (VectorHot n i) (Build n (Lam (Cond (EQ i (Var 0)) (Const 1.) (Const 0.)))) :ruleset expand)

(constructor VectorZip (Expr Expr) Expr)
(rewrite (VectorZip v w) (Build (Length v) (Lam (Pair (Get v (Var 0)) (Get w (Var 0))))) :ruleset expand)
